# game_rank_test
游戏排行榜设计




MemoryRankingList 内存排行榜
内存排行榜  设计为更新数据时做一次排行 查询的时候只做数据筛选不做排行 


RedisRankingList Redis排行榜
利用redis 的 zset 实现排行
支持分布式部署，适合多人在线游戏的全服排行榜
高性能，百万级数据操作仍能保持毫秒级响应
自带持久化，避免数据丢失
超大规模数据可以使用集群


问题二（系统设计）

对于可靠性首先redis可以使用集群，
数据持久化可以使用RDB和AOF，RDB是每隔一段时间将数据快照保存到磁盘，AOF则是将每次写操作追加到日志文件中，这样即使服务器崩溃，也可以从日志文件中恢复数据。
另外，redis还支持主从复制，可以将数据复制到多个从节点，提高数据的可靠性。

由于数据落到redis里面了 服务可以设计成无状态的微服务支持动态扩展

数据更新时可以加入分布式锁 保证数据的一致性 

热点频繁查询数据可以做缓存

问题三

每一个分数可以是一个key 用hash存储，key为分数，value为玩家信息
zSet的score为分数，value为key
这样就可以通过zSet的score排序，然后根据score找到对应的key，再根据key找到对应的玩家信息。
里面可以承载多个相同分数玩家了 
如果相同分数玩家也需要根据时间分排序的话 可以还是使用zset替换hash zSet的score为时间，value为玩家信息


